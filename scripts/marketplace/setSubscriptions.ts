import { Address, beginCell, Cell, Dictionary, toNano } from '@ton/core';
import { Addresses, OpCodes, Tons } from '../../wrappers/helpers/constants';
import { NetworkProvider } from '@ton/blueprint';
import { DefaultContract } from '../../wrappers/helpers/DefaultContract';
import { TonSimpleAuction } from '../../wrappers/TonSimpleAuction';
import { TonSimpleSale } from '../../wrappers/TonSimpleSale';
import { deployInfoValueParser, Marketplace, userSubscriptionValueParser } from '../../wrappers/Marketplace';

export async function run(provider: NetworkProvider) {
    const contract = provider.open(Marketplace.createFromAddress(Address.parse("EQD7-a6WPtb7w5VgoUfHJmMvakNFgitXPk3sEM8Gf_WEBDOM")));

    const userSubscriptions = Cell.fromHex(
        "b5ee9c72410235010004b9000205817002012402012002150201200310020120040b0201200506004bbec132b405f7724780930270d9c2384ad9c7a3106d7efeffb2886d27907f9de8c80b3f83c7f40201200708004bbe8636d5a8e5239c60380f51da1df5a518ab6f1f18c47111e06da3125db3462a30168afc4d98020120090a004bbe4526b27a4bb7606f5c942c1ad32ef5bf747db2d74086cc3dbac2f596f3c2d0802d14b3bd30004bbe60d643015f17a3c8c6030fc1712543de6ff683bf16115468e4889adac96e2bc02d132dd0d00201200c0f02037b200d0e004abda0fc4c7f149a1294b42a8c298c8f65d84df83d2ecd88ce8abb398d0677e8820168aa3a3e004abdbdbaa2a3aefec96e2229a4ab67130f15fcc70fc4051967fe04d504b6e251750167f13ffc004bbec7ccee24066d273d564749e34e37825f99d5c87c5a48447ad7e2c438997c39680b416b9b5402012011140201201213004bbee909c19234163f7fedd8ac6c6d2aa0f98f1db51c4f2153aa3267ffceacc59ee00b3f83c7f4004bbec7fe1406a2ef6f45053b4cf32482daa9921b8e0af6f224f31b16c5b727e61a080b404c060c004bbf3e33d2ff99f0443ea6951a3a006dd22e6477433b821cc4a2a8251434102331e0059fd4ad46020120161d0201481718004bbeda20a4f2cd1a9a8515d2e4def030661cbb1e4d0e73bf78358fdd6e9ed66da7200b40db73e402016a191c0201581a1b004abdba5a9ff9181b4f28d51620c52309b56d16d9ddd0ce091acfb841681c1a48db0167f13ffc004abda1da24b618a635714b0752eab3220bf898bb652f3e19c5ea44f95a830f307501686591c4004bbe01323446af0e86cd665f7fedd64f50ac8d122766a67db46c706322bb375747405a1457afe00201201e1f004bbf23a78a66fc6126130583f52948818c72ebe2e16c7fb758d4137c877659230bac05a13a863e0201202021004bbecc2b242d4267db3875a77bf19be459edd77e4bf4ce8d41b70e988251a7a595200b3f83c7f40201662223004bbe163dd793efea724fbdd155a02e0b211a6297cf99bf53a3cd18b8407f107a69005a1bedbb20004bbe3515d48f1552260cb0bd5c83948abe267d81713cebdfe326b62525cf280476805a20ce38e0020120252e02012026290201482728004bbeef24ff31c160c543350f0693cc3ef01b07f96f927798a79af5c4a1540aa4a6280b3f89ffe4004bbed721262ae4fea0b499ee20ea11863754a5e679578bc1372de3bb318c5e2057480b434ca43c0201202a2b004bbf21248f053a47076498507a36264fe6343e4db747be5b738f9009386764defe9405a03699a20201482c2d004bbe96e9de9fce11449bf26561b7dbbef7ad39e64a5ae37d29fe04a1453195985aa0167f12d5f8004bbeb4bd7d8a14e536c25b36d66588380fb3bf0536dd60ac31b53e0f26bc7c7238c0168761bb880201202f340201483031004bbedc7e2b23a102a5c9cd82b28c804ceb410cd4aaea9d9961dd1cd06ad2abfd0cd00b3f89ffe40201483233004bbe669ac0c0fbb3a5aa0ba9705034d496a1a4fc43574ae558f2430d303d6f2f9dc02d14717150004bbe70b0949900de533a15a9669d8eb9513d49a526e53302d01267e158f3d52da1802d043926d0004bbf71a9099b35416f307a3a8fb5bda4d2999af74c91cc6460268a396b04f64d3ab202d06088bb58bb1a47"
    ).beginParse().loadDictDirect(Dictionary.Keys.Address(), userSubscriptionValueParser());
    
    await contract.sendSetSubscriptions(provider.sender(), userSubscriptions);
}   